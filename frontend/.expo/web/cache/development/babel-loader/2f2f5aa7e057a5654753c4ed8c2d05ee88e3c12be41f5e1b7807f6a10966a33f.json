{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nvar initialState = {\n  items: [],\n  loading: false,\n  error: null\n};\nvar todoSlice = createSlice({\n  name: 'todo',\n  initialState: initialState,\n  reducers: {\n    addTodo: function addTodo(state, action) {\n      state.items.push(action.payload);\n    },\n    updateTodo: function updateTodo(state, action) {\n      var index = state.items.findIndex(function (item) {\n        return item.id === action.payload.id;\n      });\n      if (index !== -1) {\n        state.items[index] = action.payload;\n      }\n    },\n    deleteTodo: function deleteTodo(state, action) {\n      state.items = state.items.filter(function (item) {\n        return item.id !== action.payload;\n      });\n    },\n    setLoading: function setLoading(state, action) {\n      state.loading = action.payload;\n    },\n    setError: function setError(state, action) {\n      state.error = action.payload;\n    }\n  }\n});\nvar _todoSlice$actions = todoSlice.actions,\n  addTodo = _todoSlice$actions.addTodo,\n  updateTodo = _todoSlice$actions.updateTodo,\n  deleteTodo = _todoSlice$actions.deleteTodo,\n  setLoading = _todoSlice$actions.setLoading,\n  setError = _todoSlice$actions.setError;\nexport { addTodo, updateTodo, deleteTodo, setLoading, setError };\nexport default todoSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","items","loading","error","todoSlice","name","reducers","addTodo","state","action","push","payload","updateTodo","index","findIndex","item","id","deleteTodo","filter","setLoading","setError","_todoSlice$actions","actions","reducer"],"sources":["C:/Users/86151/Desktop/智能生活助手/frontend/src/store/slices/todoSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\n// 待办事项类型定义\r\nexport interface TodoItem {\r\n  id: string;\r\n  title: string;\r\n  timeBegin?: string;\r\n  timeEnd?: string;\r\n  timestamp: string;\r\n  timeNotify?: string;\r\n  whereToGo?: string;\r\n  state: 'doing' | 'todo' | 'done' | 'pending'; // 对应：正在做/没做/已做完/没到做的时间\r\n}\r\n\r\n// 状态类型定义\r\ninterface TodoState {\r\n  items: TodoItem[];\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\n// 初始状态\r\nconst initialState: TodoState = {\r\n  items: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\n// 创建Todo切片\r\nconst todoSlice = createSlice({\r\n  name: 'todo',\r\n  initialState,\r\n  reducers: {\r\n    // 添加待办事项\r\n    addTodo: (state, action: PayloadAction<TodoItem>) => {\r\n      state.items.push(action.payload);\r\n    },\r\n    // 更新待办事项\r\n    updateTodo: (state, action: PayloadAction<TodoItem>) => {\r\n      const index = state.items.findIndex(item => item.id === action.payload.id);\r\n      if (index !== -1) {\r\n        state.items[index] = action.payload;\r\n      }\r\n    },\r\n    // 删除待办事项\r\n    deleteTodo: (state, action: PayloadAction<string>) => {\r\n      state.items = state.items.filter(item => item.id !== action.payload);\r\n    },\r\n    // 设置加载状态\r\n    setLoading: (state, action: PayloadAction<boolean>) => {\r\n      state.loading = action.payload;\r\n    },\r\n    // 设置错误信息\r\n    setError: (state, action: PayloadAction<string | null>) => {\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// 导出actions\r\nexport const { addTodo, updateTodo, deleteTodo, setLoading, setError } = todoSlice.actions;\r\n\r\nexport default todoSlice.reducer; "],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAsB7D,IAAMC,YAAuB,GAAG;EAC9BC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;AAGD,IAAMC,SAAS,GAAGL,WAAW,CAAC;EAC5BM,IAAI,EAAE,MAAM;EACZL,YAAY,EAAZA,YAAY;EACZM,QAAQ,EAAE;IAERC,OAAO,EAAE,SAATA,OAAOA,CAAGC,KAAK,EAAEC,MAA+B,EAAK;MACnDD,KAAK,CAACP,KAAK,CAACS,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IAClC,CAAC;IAEDC,UAAU,EAAE,SAAZA,UAAUA,CAAGJ,KAAK,EAAEC,MAA+B,EAAK;MACtD,IAAMI,KAAK,GAAGL,KAAK,CAACP,KAAK,CAACa,SAAS,CAAC,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,EAAE,KAAKP,MAAM,CAACE,OAAO,CAACK,EAAE;MAAA,EAAC;MAC1E,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBL,KAAK,CAACP,KAAK,CAACY,KAAK,CAAC,GAAGJ,MAAM,CAACE,OAAO;MACrC;IACF,CAAC;IAEDM,UAAU,EAAE,SAAZA,UAAUA,CAAGT,KAAK,EAAEC,MAA6B,EAAK;MACpDD,KAAK,CAACP,KAAK,GAAGO,KAAK,CAACP,KAAK,CAACiB,MAAM,CAAC,UAAAH,IAAI;QAAA,OAAIA,IAAI,CAACC,EAAE,KAAKP,MAAM,CAACE,OAAO;MAAA,EAAC;IACtE,CAAC;IAEDQ,UAAU,EAAE,SAAZA,UAAUA,CAAGX,KAAK,EAAEC,MAA8B,EAAK;MACrDD,KAAK,CAACN,OAAO,GAAGO,MAAM,CAACE,OAAO;IAChC,CAAC;IAEDS,QAAQ,EAAE,SAAVA,QAAQA,CAAGZ,KAAK,EAAEC,MAAoC,EAAK;MACzDD,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACE,OAAO;IAC9B;EACF;AACF,CAAC,CAAC;AAGK,IAAAU,kBAAA,GAAkEjB,SAAS,CAACkB,OAAO;EAA3Ef,OAAO,GAAAc,kBAAA,CAAPd,OAAO;EAAEK,UAAU,GAAAS,kBAAA,CAAVT,UAAU;EAAEK,UAAU,GAAAI,kBAAA,CAAVJ,UAAU;EAAEE,UAAU,GAAAE,kBAAA,CAAVF,UAAU;EAAEC,QAAQ,GAAAC,kBAAA,CAARD,QAAQ;AAAuB,SAAAb,OAAA,EAAAK,UAAA,EAAAK,UAAA,EAAAE,UAAA,EAAAC,QAAA;AAE3F,eAAehB,SAAS,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}