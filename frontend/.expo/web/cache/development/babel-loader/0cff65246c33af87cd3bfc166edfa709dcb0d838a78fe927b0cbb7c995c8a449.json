{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { createSlice } from '@reduxjs/toolkit';\nvar initialState = {\n  stepRecords: [],\n  settings: {\n    dailyStepGoal: 10000,\n    waterReminders: {\n      enabled: false,\n      times: [],\n      targetVolume: 2000\n    }\n  },\n  loading: false,\n  error: null\n};\nvar healthSlice = createSlice({\n  name: 'health',\n  initialState: initialState,\n  reducers: {\n    setStepRecords: function setStepRecords(state, action) {\n      state.stepRecords = action.payload;\n    },\n    addStepRecord: function addStepRecord(state, action) {\n      state.stepRecords.push(action.payload);\n    },\n    updateHealthSettings: function updateHealthSettings(state, action) {\n      state.settings = _objectSpread(_objectSpread({}, state.settings), action.payload);\n    },\n    updateWaterReminders: function updateWaterReminders(state, action) {\n      state.settings.waterReminders = _objectSpread(_objectSpread({}, state.settings.waterReminders), action.payload);\n    },\n    setLoading: function setLoading(state, action) {\n      state.loading = action.payload;\n    },\n    setError: function setError(state, action) {\n      state.error = action.payload;\n    }\n  }\n});\nvar _healthSlice$actions = healthSlice.actions,\n  setStepRecords = _healthSlice$actions.setStepRecords,\n  addStepRecord = _healthSlice$actions.addStepRecord,\n  updateHealthSettings = _healthSlice$actions.updateHealthSettings,\n  updateWaterReminders = _healthSlice$actions.updateWaterReminders,\n  setLoading = _healthSlice$actions.setLoading,\n  setError = _healthSlice$actions.setError;\nexport { setStepRecords, addStepRecord, updateHealthSettings, updateWaterReminders, setLoading, setError };\nexport default healthSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","stepRecords","settings","dailyStepGoal","waterReminders","enabled","times","targetVolume","loading","error","healthSlice","name","reducers","setStepRecords","state","action","payload","addStepRecord","push","updateHealthSettings","_objectSpread","updateWaterReminders","setLoading","setError","_healthSlice$actions","actions","reducer"],"sources":["C:/Users/86151/Desktop/智能生活助手/frontend/src/store/slices/healthSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\n// 步数记录类型定义\r\nexport interface StepRecord {\r\n  id: string;\r\n  date: string;\r\n  steps: number;\r\n  source: string;\r\n}\r\n\r\n// 喝水提醒类型\r\nexport interface WaterReminder {\r\n  enabled: boolean;\r\n  times: string[];\r\n  targetVolume: number; // 单位ml\r\n}\r\n\r\n// 健康设置类型\r\nexport interface HealthSettings {\r\n  dailyStepGoal: number;\r\n  waterReminders: WaterReminder;\r\n}\r\n\r\n// 状态类型定义\r\ninterface HealthState {\r\n  stepRecords: StepRecord[];\r\n  settings: HealthSettings;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\n// 初始状态\r\nconst initialState: HealthState = {\r\n  stepRecords: [],\r\n  settings: {\r\n    dailyStepGoal: 10000,\r\n    waterReminders: {\r\n      enabled: false,\r\n      times: [],\r\n      targetVolume: 2000,\r\n    },\r\n  },\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\n// 创建健康切片\r\nconst healthSlice = createSlice({\r\n  name: 'health',\r\n  initialState,\r\n  reducers: {\r\n    // 设置步数记录\r\n    setStepRecords: (state, action: PayloadAction<StepRecord[]>) => {\r\n      state.stepRecords = action.payload;\r\n    },\r\n    // 添加步数记录\r\n    addStepRecord: (state, action: PayloadAction<StepRecord>) => {\r\n      state.stepRecords.push(action.payload);\r\n    },\r\n    // 更新健康设置\r\n    updateHealthSettings: (state, action: PayloadAction<Partial<HealthSettings>>) => {\r\n      state.settings = { ...state.settings, ...action.payload };\r\n    },\r\n    // 更新喝水提醒设置\r\n    updateWaterReminders: (state, action: PayloadAction<Partial<WaterReminder>>) => {\r\n      state.settings.waterReminders = { ...state.settings.waterReminders, ...action.payload };\r\n    },\r\n    // 设置加载状态\r\n    setLoading: (state, action: PayloadAction<boolean>) => {\r\n      state.loading = action.payload;\r\n    },\r\n    // 设置错误信息\r\n    setError: (state, action: PayloadAction<string | null>) => {\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// 导出actions\r\nexport const {\r\n  setStepRecords,\r\n  addStepRecord,\r\n  updateHealthSettings,\r\n  updateWaterReminders,\r\n  setLoading,\r\n  setError,\r\n} = healthSlice.actions;\r\n\r\nexport default healthSlice.reducer; "],"mappings":";;;AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAgC7D,IAAMC,YAAyB,GAAG;EAChCC,WAAW,EAAE,EAAE;EACfC,QAAQ,EAAE;IACRC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE;MACdC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;AAGD,IAAMC,WAAW,GAAGX,WAAW,CAAC;EAC9BY,IAAI,EAAE,QAAQ;EACdX,YAAY,EAAZA,YAAY;EACZY,QAAQ,EAAE;IAERC,cAAc,EAAE,SAAhBA,cAAcA,CAAGC,KAAK,EAAEC,MAAmC,EAAK;MAC9DD,KAAK,CAACb,WAAW,GAAGc,MAAM,CAACC,OAAO;IACpC,CAAC;IAEDC,aAAa,EAAE,SAAfA,aAAaA,CAAGH,KAAK,EAAEC,MAAiC,EAAK;MAC3DD,KAAK,CAACb,WAAW,CAACiB,IAAI,CAACH,MAAM,CAACC,OAAO,CAAC;IACxC,CAAC;IAEDG,oBAAoB,EAAE,SAAtBA,oBAAoBA,CAAGL,KAAK,EAAEC,MAA8C,EAAK;MAC/ED,KAAK,CAACZ,QAAQ,GAAAkB,aAAA,CAAAA,aAAA,KAAQN,KAAK,CAACZ,QAAQ,GAAKa,MAAM,CAACC,OAAO,CAAE;IAC3D,CAAC;IAEDK,oBAAoB,EAAE,SAAtBA,oBAAoBA,CAAGP,KAAK,EAAEC,MAA6C,EAAK;MAC9ED,KAAK,CAACZ,QAAQ,CAACE,cAAc,GAAAgB,aAAA,CAAAA,aAAA,KAAQN,KAAK,CAACZ,QAAQ,CAACE,cAAc,GAAKW,MAAM,CAACC,OAAO,CAAE;IACzF,CAAC;IAEDM,UAAU,EAAE,SAAZA,UAAUA,CAAGR,KAAK,EAAEC,MAA8B,EAAK;MACrDD,KAAK,CAACN,OAAO,GAAGO,MAAM,CAACC,OAAO;IAChC,CAAC;IAEDO,QAAQ,EAAE,SAAVA,QAAQA,CAAGT,KAAK,EAAEC,MAAoC,EAAK;MACzDD,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACC,OAAO;IAC9B;EACF;AACF,CAAC,CAAC;AAGK,IAAAQ,oBAAA,GAOHd,WAAW,CAACe,OAAO;EANrBZ,cAAc,GAAAW,oBAAA,CAAdX,cAAc;EACdI,aAAa,GAAAO,oBAAA,CAAbP,aAAa;EACbE,oBAAoB,GAAAK,oBAAA,CAApBL,oBAAoB;EACpBE,oBAAoB,GAAAG,oBAAA,CAApBH,oBAAoB;EACpBC,UAAU,GAAAE,oBAAA,CAAVF,UAAU;EACVC,QAAQ,GAAAC,oBAAA,CAARD,QAAQ;AACc,SAAAV,cAAA,EAAAI,aAAA,EAAAE,oBAAA,EAAAE,oBAAA,EAAAC,UAAA,EAAAC,QAAA;AAExB,eAAeb,WAAW,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}