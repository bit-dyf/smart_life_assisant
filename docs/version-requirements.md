# 智能生活助手 - 技术栈版本要求

本文档定义了项目中所有技术栈和依赖的版本要求，作为开发环境配置和部署的权威参考。

## 开发环境

| 工具/平台      | 最低版本  | 推荐版本  | 说明                          |
|---------------|-----------|-----------|------------------------------|
| Node.js       | 16.0.0    | 18.12.0   | 前端开发环境                   |
| npm           | 8.0.0     | 9.0.0     | Node.js包管理器               |
| Python        | 3.9.0     | 3.11.0    | 后端开发环境                   |
| pip           | 21.0.0    | 23.0.0    | Python包管理器                |
| Git           | 2.30.0    | 最新版     | 版本控制                       |
| VSCode        | 最新版     | 最新版     | 推荐IDE                       |

## 前端依赖

### 核心框架

| 依赖项                    | 版本            | 说明                      |
|--------------------------|----------------|--------------------------|
| react                    | 18.2.0         | 用户界面库                 |
| react-native             | 0.72.4         | 跨平台移动应用框架          |
| expo                     | ~49.0.8        | React Native开发工具       |
| typescript               | ^5.1.6         | 类型系统                   |

### 导航与路由

| 依赖项                       | 版本         | 说明                      |
|-----------------------------|-------------|--------------------------|
| @react-navigation/native    | ^6.1.7      | 导航基础库                 |
| @react-navigation/stack     | ^6.3.17     | 堆栈导航                   |
| @react-navigation/bottom-tabs | ^6.5.8    | 底部标签导航               |

### 状态管理

| 依赖项                | 版本         | 说明                      |
|----------------------|-------------|--------------------------|
| @reduxjs/toolkit     | ^1.9.5      | Redux工具集               |
| react-redux          | ^8.1.2      | React绑定库               |

### 网络请求

| 依赖项   | 版本        | 说明                      |
|---------|------------|--------------------------|
| axios   | ^1.5.0     | HTTP客户端                |

### 本地存储

| 依赖项                                 | 版本        | 说明                      |
|---------------------------------------|------------|--------------------------|
| @react-native-async-storage/async-storage | ^2.2.0  | 键值对存储系统            |

### 开发工具

| 依赖项                           | 版本         | 说明                      |
|---------------------------------|-------------|--------------------------|
| eslint                          | ^8.47.0     | 代码质量工具               |
| prettier                        | ^3.0.2      | 代码格式化工具             |
| jest                            | ^29.6.4     | 测试框架                   |
| react-native-testing-library    | 最新版       | 组件测试工具               |
| detox                           | ^20.0.0     | 端到端测试框架             |

## 后端依赖

### Web框架

| 依赖项        | 版本         | 说明                      |
|--------------|-------------|--------------------------|
| fastapi      | 0.103.1     | API框架                   |
| uvicorn      | 0.23.2      | ASGI服务器                |

### 数据库

| 依赖项        | 版本         | 说明                      |
|--------------|-------------|--------------------------|
| sqlalchemy   | 2.0.20      | ORM框架                   |
| alembic      | 1.12.0      | 数据库迁移工具             |
| psycopg2-binary | 2.9.7    | PostgreSQL适配器          |

### 数据验证

| 依赖项        | 版本         | 说明                      |
|--------------|-------------|--------------------------|
| pydantic     | 2.3.0       | 数据验证库                 |
| email-validator | 2.0.0    | 邮箱验证器                |

### 认证与安全

| 依赖项                     | 版本         | 说明                      |
|---------------------------|-------------|--------------------------|
| python-jose[cryptography] | 3.3.0       | JWT实现                   |
| passlib[bcrypt]           | 1.7.4       | 密码哈希库                 |
| python-multipart          | 0.0.6       | 表单解析                   |

### 开发工具

| 依赖项        | 版本         | 说明                      |
|--------------|-------------|--------------------------|
| pytest       | 7.4.0       | 测试框架                   |
| pytest-cov   | 4.1.0       | 代码覆盖率工具             |
| httpx        | 0.24.1      | HTTP客户端                |
| ruff         | 0.0.284     | Python linter            |
| black        | 23.7.0      | 代码格式化工具             |
| mypy         | 1.5.1       | 类型检查器                |

## 数据库

| 系统         | 版本         | 说明                          |
|-------------|-------------|------------------------------|
| PostgreSQL  | 12.0+       | 关系型数据库，推荐使用14.0+版本  |

## 部署环境

| 环境/服务     | 版本/规格            | 说明                          |
|-------------|-------------------|------------------------------|
| Docker      | 最新稳定版          | 容器化部署                     |
| Kubernetes  | 1.24+             | 容器编排（仅生产环境）           |
| Redis       | 6.0+              | 缓存和会话存储                  |
| Nginx       | 最新稳定版          | Web服务器/反向代理             |

## 版本控制

所有项目依赖的版本管理应遵循以下原则：

1. **前端依赖**: 在`package.json`中锁定次要版本(Minor)，允许补丁版本(Patch)更新
2. **后端依赖**: 在`requirements.txt`中锁定完整版本号
3. **开发工具**: 允许使用最新稳定版本
4. **核心框架**: 版本变更需经过完整测试和团队评审

## 版本更新流程

1. 定期（每季度）评估核心依赖的版本更新
2. 创建专门的分支进行版本升级测试
3. 执行完整的测试套件确保兼容性
4. 记录所有重大变更并更新此文档 